<!doctype html>
<html>

<head>
	<title></title>
	<meta charset="utf-8">
	<script src="jquery-3.3.1.min.js"></script>
	<script>
		/*
					Ermittle eine Zufallszahl von/bis
				*/
		var randy = function (a, b) {
			return Math.floor(Math.random() * (b - a + 1)) + a;
		}
		// -----------------------------------------
		$(document).ready(function () {

			// bei Klick auf Button
			// erzeuge eine Tabelle mit einer Zeile und 5 Zellen im #ausgabe
			$('button').on('click', function () {
				var tabelle, zeile, zelle, i, bild, autofixiert;

				$('td').off('click');
				$('table').hide();


				//$( '<table>' ).attr('border',1)
				tabelle = $('<table border="1">').appendTo('#ausgabe');
				//$( '<tr>' ).appendTo( '#ausgabe table' );
				zeile = $('<tr>').appendTo(tabelle);

				for (i = 0; i <= 4; i++) {

					if (tabelle.prev().find('td').eq(i).hasClass('fixiert')) {
						bild = tabelle.prev().find('td').eq(i).html();
						autofixiert = true;
						console.log('test');
					
					} else {
						bild = '<img src="bilder/wuerfel/wuerfel' + randy(1, 6) + 'cols5.jpg">'
						autofixiert = false;
					}


					

					zelle = $('<td>')
						.html(bild)
						.appendTo(zeile)
						.on('click', function () {
							$(this).toggleClass('fixiert');



						});
						if (autofixiert) {
							zelle.addClass('fixiert');
						}
				}

				

			});

		});
		// -----------------------------------------
	</script>
	<style>
		.fixiert {
			background: red;
		}
	</style>
</head>

<body>
	<button>w√ºrfeln</button>
	<div id="ausgabe"></div>
</body>

</html>